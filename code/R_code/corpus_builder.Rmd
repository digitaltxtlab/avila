---
title: "R Corpus Builder"
author: "Isa Lykke Hansen"
date: "6/7/2017"
output: html_document
---

##Setup
```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)

library(pacman)
p_load(tm,SnowballC) #loading the tm package

wd = "~/Dropbox/IMC/Avila"; #insert path to Avila
setwd(wd)

```

##Import data
```{r}

books.cor  <- Corpus(DirSource(paste(wd,"/data/plain_data", sep=''), encoding = "UTF-8"), readerControl = list(language = "lat")) #import all texts in the plain data folder to a corpus

```

##Add metadata

In the texts the following acromyms are used:

tes= spiritual testimonies
sol=soliloquies
minor= minor works
```{r}




```

##Clean data
```{r}

stop.words = read.table(paste(wd,"/data/stopword_us.txt",sep=''))

# clean corpus
clean_corpus <- function(corpus){
  main <- tm_map(books.cor, PlainTextDocument)
  main <- tm_map(main, content_transformer(tolower))
  main <- tm_map(main,removePunctuation)
  main <- tm_map(main,removeNumbers)
  main <- tm_map(books.cor, removeWords, stopwords("english"))
  main <- tm_map(books.cor, stemDocument)
  main <- tm_map(main, stripWhitespace)
  return(main)
}

clean.corpus <- clean_corpus(books.cor)

```
